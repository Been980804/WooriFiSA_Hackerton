---

<img width="200"  alt="우리 어디가!" src="https://github.com/user-attachments/assets/77eb5d05-d42d-4016-9eec-8d891859b549" />


# 주제

- 여행 추천 시스템 ( 소비패턴 분석 ) 대분류 or 중분류
- 타겟 층 : 40-60대 중장년층 (자녀 유무x)
- 기대효과 : 
기존 패키지 여행이 제공하지 못했던 **개인화된 여행 경험, 예산 절감, 신뢰도 향상**의 세 가지 핵심 가치를 제공합니다. 카드 소비 데이터 분석을 통해 **효율적인 여행 기획**이 가능해지고, 사용자는 자신의 선호와 라이프스타일에 최적화된 여행을 경험할 수 있습니다.

<aside>
💡

### 서비스 개요

</aside>

평균 수명이 늘어나고, 중장년층이 개인화된 여행을 통해 삶의 질을 높이고자 하는 니즈가 증가하고 있습니다. 하지만 기존의 패키지 여행은 개인의 취향과 필요를 충족시키지 못해 중장년층이 직접 여행을 기획하거나, 예산과 일정을 조율하는 데 어려움을 겪는 경우가 많습니다.

이에 따라, 중장년층 맞춤형 여행 추천 서비스는 카드 소비 데이터를 기반으로 한 개인화된 여행 일정 및 예산 관리를 제공하며, 중장년층 고객이 효율적이고 만족스러운 여행을 경험할 수 있도록 지원합니다.

이 서비스는 중장년층 고객을 대상으로 시장 점유율을 확대함과 동시에, 개인화된 데이터 분석 및 여행 기획 서비스를 고도화하여 중장년층 외 다른 연령대의 고객층까지 아우를 수 있는 비즈니스 확장을 가능하게 합니다.

<aside>
💡

### 서비스의 기대효과

</aside>

1. **개인 맞춤형 여행 추천**
    
    카드 데이터를 분석하여 중장년층의 소비 패턴과 선호도를 기반으로 최적화된 여행지와 일정을 제안합니다. 예를 들어, "문화재 탐방"을 선호하는 소비자에게는 역사적 명소를, "편안한 휴식"을 선호하는 소비자에게는 휴양지를 추천합니다.
    
2. **유연한 일정 구성**
    
    사용자가 자신의 필요에 따라 일정을 조정할 수 있는 서비스를 제공하여 패키지 여행의 고정된 일정보다 더 큰 자유를 제공합니다.
    
3. **효율적인 예산 관리**
    
    카드 데이터 분석을 통해 평균적인 예산 분배와 적정 소비 패턴을 제안하여 중장년층이 경제적으로 부담 없는 여행을 계획할 수 있도록 돕습니다.
    
4. **중장년층 특화 서비스**
    
    나이와 건강 상태를 고려한 이동수단, 숙박지, 식사 추천 등 중장년층의 라이프스타일에 최적화된 옵션을 제공해 더 편안하고 만족스러운 여행 경험을 제공합니다.
    
5. **투명한 소비 계획**
    
    카드 소비 데이터를 기반으로, 예상되는 지출을 미리 시뮬레이션하여 예상치 못한 비용 발생을 줄입니다.
    

## 팀별 R & R

| 이름 | 역할 | 과정 |
| --- | --- | --- |
| 이현빈 | 보안 및 인프라 전략 구성 | 클라우드 엔지니어링 |
| 고은혜 | 데이터 분석 및 활용 전략 구성 | AI 엔지니어링 |
| 방성경 | 서비스 전략 구성 | 클라우드 서비스 개발 |
| 이성희 | 서비스 전략 구상 | 클라우드 서비스 개발 |

## 서비스 전략

- **편의성**
    - 중장년층이 디지털 서비스에 느낄 수 있는 어려움을 최소화하기 위해 큰 글씨, 직관적인 메뉴 구조, 단순한 인터페이스를 제공.
    - 예약 일정, 결제 내역, 지역 여행 팁 등을 미리 알림으로 제공하여 준비 과정 간소화
    - 여행 일정 내 중장년층의 건강을 고려한 휴식 포함의 일정 추천
    - 구두 상담 지원: 중장년층에게 익숙한 방식인 음성 상담 기능을 통화나 챗봇 형태로 제공하여, 서비스 이용 중 발생하는 불편 사항을 신속히 해결.
- **개인화**
    - 카드 데이터를 분석하여 선호 지역, 취미, 예산 범위 등을 파악하여 개인화된 여행 일정 추천
    - 유사한 소비 패턴을 가진 고객 그룹의 데이터를 활용해 가장 선호도가 높은 추천 여행지를 제안
    - 제안된 여행지가 마음에 들지 않을 경우, 고객이 직접 다른 여행지나 일정을 선택할 수 있는 기능 제공.
- **신뢰성**
    - 예산 초과 방지 시스템 : 카드 소비 테이터를 기반으로 여행 중 예상 추가 비용을 미리 예측하여 사용자에게 알림
    - 사전비용명시: 항목별 예상비용을 투명하게 공개(업데이트 어떻게 되나요)

## 데이터 활용 전략

1. **카드 거래 데이터 전처리**
    - 데이터 정제: 결측치 처리, 이상치 제거
    - 데이터 변환: 연속형 변수의 범주화 (예: 총이용금액 구간화)
2. **카드 거래 데이터 중 중분류 항목을 사용하여 소비 패턴 추출 및 고객 유형화**
    - 피처 엔지니어링:
        - 총 카드사용 금액 대비 여행 관련 주요 소비 카테고리별 지출 비율
            - 레져업소, 레져용품, 문화/취미, 숙박업, 음식료품, 의류 항목의 소비 비율 계산
    - 분석 단계 (K-means 알고리즘 사용):
        - 최적 클러스터 수 결정 (엘보우 방법 활용)
        - 클러스터별 소비 비율 확인 후 고객 소비특징 유형화
            - **#문화탐방형**: 문화/취미 소비 비율이 높은 그룹
            - **#휴양추구형**: 숙박업과 음식료품 소비 비율이 높은 그룹
            - **#액티비티선호형**: 레져 관련 소비 비율이 높은 그룹
3. **여행지 추천 시스템 구축**
    1. 컨텐츠 기반 필터링 적용 : 사용자의 기존 선호 여행 스타일을 입력받아야 함
        - 여행지 특성 벡터화: 지역, 활동 유형, 예산 등
        - TF-IDF를 활용한 여행지 설명 텍스트 분석
        - 코사인 유사도를 통한 유사 여행지 추천
4. **초기 여행 일정 추천 시스템**
    - Tavily API를 사용하여 웹 검색을 통해 목적지에 대한 정보 수집
    - LLM(예: GPT-4)을 활용하여 초기 여행 일정 생성
5. **사용자 피드백을 통한 실시간 여행 일정 및 예산 최적화(강화학습 알고리즘 사용)**
    - 상태 (State) 정의 : 사용자의 현재 상황
        
        현재 위치: 사용자가 있는 도시나 관광지
        
        남은 시간: 여행 일정에서 남은 일수나 시간
        
        예산: 사용 가능한 남은 금액
        
    - 행동 (Action) 정의 : 사용자가 취할 수 있는 선택
        
        다음 방문지 선택: 예를 들어, '성산일출봉 방문', '국립제주박물관 방문' 등
        
        숙박 유형 결정: '호텔 예약', '게스트하우스 예약' 등
        
        교통수단 선택: '지하철 이용', '택시 이용' 등
        
    - 보상 (Reward) 정의 : 행동의 결과로 얻는 피드백입니다:
        
        사용자 만족도: 방문한 장소의 평점이나 리뷰 점수
        
        예산 준수 여부: 예산 내에서 행동을 했다면 양의 보상, 초과했다면 음의 보상
        
        시간 효율성: 이동 시간 대비 관광 시간의 비율
        
6. **종합 분석 및 추천 제공**
    1. 설명 가능한 AI (XAI) 도입
    - SHAP 값 활용
    - 여행지에 대한 추천 이유 제시로 사용자 신뢰도 향상

- 데이터 활용 전략
    
    ### 1. **소비 패턴 분석**
    
    카드 소비 데이터를 활용해 사용자의 취향과 니즈를 파악할 수 있습니다.
    
    - **여행지 선호도 분석**:
        - 주로 소비가 발생한 지역(국내/해외)을 분석하여 자주 방문하는 장소나 선호 지역(도시, 휴양지, 산/바다 등)을 추출합니다.
        - 예: "중장년층은 주로 온천 리조트나 자연경관이 있는 지역에서 카드 소비율이 높음."
    - **취미 및 관심사 파악**:
        - 소비 항목(식사, 문화, 쇼핑, 레저 등)을 분석해 개인의 여행 목적(미식, 휴식, 쇼핑, 액티비티)을 파악합니다.
        - 예: "고급 레스토랑 지출이 많은 경우 미식 여행 추천."
    - **소비 트렌드 분석**:
        - 특정 계절/기간에 지출이 몰리는 패턴을 확인해 성수기와 비성수기 선호도를 도출합니다.
        - 예: "봄·가을 시즌에 숙박 관련 소비가 많다면 계절별 맞춤 여행 일정 추천."
    
    ### 2. **리스크 관리 및 안정성 강화**
    
    중장년층이 더 안전하고 신뢰할 수 있는 여행을 즐길 수 있도록 카드 데이터를 활용합니다.
    
    - **소비 패턴 기반의 안전 지역 추천**:
        - 여행지에서 발생한 카드 소비 기록을 분석해 안전한 지역을 추천합니다.
        - 예: "범죄율이 낮고 관광객 카드 사용 빈도가 높은 지역 추천."
    - **비정상 소비 탐지**:
        - 여행 중 예상치 못한 과소비나 도난 위험을 줄이기 위해 비정상적인 소비 패턴을 실시간으로 탐지해 알림을 보냅니다.
        - 예: "평소 패턴과 다른 대규모 결제 발생 시 사용자에게 알림."
    
    ### **3. 커뮤니티 및 트렌드 반영**
    
    중장년층의 전체적인 소비 데이터를 분석해 트렌드에 맞는 여행 패키지를 개발합니다.
    
    - **유사 고객 그룹 추천**:
        - 같은 취향을 가진 사용자 그룹을 생성해 비슷한 관심사를 가진 사람들이 선호하는 여행지를 추천합니다.
        - 예: "50대 이상에서 인기 있는 여행지 순위를 매월 업데이트."
    - **동반자 추천**:
        - 소비 패턴이 유사한 사용자에게 함께 참여할 수 있는 커뮤니티 여행 프로그램 제안.
        - 예: "골프를 선호하는 사용자를 위한 소규모 단체 여행 프로그램."

## 인프라 & 보안 설계 전략

1. ECS 사용
    - Serverless 환경을 기반으로 인프라 관리 부담 절감
    - Fargate와 결합
        - 초기 운영 비용 절감 및 컨테이너화된 애플리케이션을 쉽게 배포
        - 인프라 관리 없이 AWS가 리소스를 자동으로 관리
    - 가용성 및 운영 효율성
        - 2개의 AZ에서 public, private subnet 구성
        - Nat Gateway를 Pulbic Subnet에 배치하여 ECS와 외부 인터넷 통신 지원
        - ALB를 Public Subnet에 배치하여 Target Group으로 ECS Task 연결
    - Auto Scaling  정책
        - CPU 사용률 70% 이상 시 ECS Task 자동 확장
        - CPU 사용률 25% 이하 시 ECS Task 자동 축소
        - 확장성과 운영 효율성 증가
    - 로그 및 모니터링
        - CloudWatch Logs
            - ECS Task 의 로그 및 애플리케이션 로그 수집
            - 프론트엔드와 백엔드 성능 모니터링
        - CloudWatch Alarms + SNS
            - CPU, 메모리, 응답시간 임계치를 초과할 경우 알람 설정
            - SNS를 통해 Slack 채널에 실시간 알림 전송
    - DB 설계 - RDS (Read-Only / Write-Only)
        - Write-Only : 데이터 쓰기 전용 RDS 인스턴스
        - Read-Only : 읽기 전용 RDS REad-Replica 인스턴스를 사용해 부하 분산
        - Multi-AZ 배포로 고가용성 및 데이터 정합성 유지
    - CI/CD
        - ECR : Docker 이미지 저장 및 버전 관리
        - Jenkins : 소스 코드 빌드 및 ECR에 푸시
        - ECS Task : ECR 이미지를 기반으로 컨테이너 업데이트 및 배포
    - 보안
        - WAF : ALB 앞단에 배치 → 악의적인 트래픽 필터링
        - Private Subnet : 백엔드 및 RDS를 배치 외부 접근 차단
        - NAT Gateway : 백엔드가 외부 API와 통신할 수 있도록 지원
        - IAM Role : 최소권한 ECS Task에 부여
        

## 서비스 아키텍처

<img width="3680" height="2240" alt="우리 어디가! 서비스 아키텍처 (1)" src="https://github.com/user-attachments/assets/2e78e60d-f444-43ba-a8e4-31a002f4989e" />

- 수정 후

<img width="970" height="560" alt="우리 어디가! 서비스 아키텍처" src="https://github.com/user-attachments/assets/5a149901-2e24-4cb5-8b14-e052cc6f3909" />

## 시스템 아키텍처

<img width="2158" height="2228" alt="시스템 아키텍쳐(우리어디가)" src="https://github.com/user-attachments/assets/b7b1011f-7240-435e-a819-28f31ba1cee4" />


- 수정 후

<img width="2158" height="2228" alt="우리 어디가! 시스템 아키텍쳐" src="https://github.com/user-attachments/assets/a54a6eb9-57d4-4692-b780-0a24e89c40db" />


## Tool

- 프레임 워크 : Spring, Next.js
- AWS : Auto Scaling 기능/ WAF/ EC2(가용영역 2개)
- AI : Python(scikit-learn**,** NLTK, OpenAI Gym, TensorFlow), MySQL, Qdrant, FastAPI, Tavily API, OpenAI API, MLflow, Airflow
